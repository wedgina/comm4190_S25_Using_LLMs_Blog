<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Wedgina Norelus">
<meta name="dcterms.date" content="2025-04-11">
<meta name="description" content="Playing with ChatGPT and seeing if it recollect details from my childhood for me">

<title>Walking Down Memory Lane With ChatGPT – My Explorations with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8647a4a42273f773479d27c00df3f9ed.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Explorations with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Walking Down Memory Lane With ChatGPT</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Memories</div>
    <div class="quarto-category">Cognition</div>
    <div class="quarto-category">Reason</div>
  </div>
  </div>

<div>
  <div class="description">
    Playing with ChatGPT and seeing if it recollect details from my childhood for me
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Wedgina Norelus </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 11, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="talking-nostalgia-with-chatgpt" class="level1">
<h1>Talking Nostalgia with ChatGpt</h1>
<p><img src="018_Post_18_files/figure-html/4ff51f62-1e86-42a5-a833-079fed9578fe-1-bdc7652a-4a3b-4182-975a-4c8ae64a7983.jpg" class="img-fluid"></p>
<p>The prompt I passed to Chat was this: <strong>Ask me a bunch of questions about my childhood and determine what are things that would make me nostalgic or forgot that I experienced.</strong></p>
<p><strong>Response:</strong></p>
<ol type="1">
<li>What was your favorite toy or game when you were a child? Do you remember any special moments associated with it?</li>
<li>What was a typical day like for you during the summer when you were younger? Did you have any routines or favorite activities?</li>
<li>Were there any songs, shows, or movies that you loved watching as a kid? Why do you think they resonated with you so much?</li>
<li>Did you have a favorite place to go with your family, like a park, a store, or a relative’s house? What made it special?</li>
<li>Were there any specific smells or sounds from your childhood that stand out in your memory?</li>
<li>Do you remember any traditions or holidays that were important to you and your family?</li>
<li>Was there a time when you and your friends came up with a secret code, game, or adventure?</li>
<li>How did you feel about school when you were younger? Were there any teachers, classmates, or specific experiences that stuck with you?</li>
<li>Can you remember a particular birthday or celebration that made you feel really special?</li>
<li>Did you ever have a favorite snack or food that you looked forward to eating?</li>
<li>Did you have any pets when you were younger? What was their name, and what funny or sweet things did they do?</li>
<li>Can you think of a time when you and a family member or friend did something adventurous or spontaneous?</li>
<li>Was there a place in your neighborhood or town that you always loved to go? What made it your favorite spot?</li>
<li>Was there a particular fear or childhood worry that you had that you now look back on with a different perspective?</li>
<li>Do you remember a special event or moment when you felt proud of something you achieved as a kid?</li>
</ol>
<p><strong>My Response:</strong></p>
<ol type="1">
<li>I really liked building things out of nothing. I had fun building fake water amusement parks, with a bucket, plastic tube and a tower I would make using a chair. It was fun adding the water. I was also really into card games</li>
<li>I grew up as a haitian female, so i wasn’t allowed to leave the house. My summers mostly consisted of staying inside and watching tv and playing computer games</li>
<li>My favorite movies growing up consisted of the Spongebob movie from 2004, and Let it Shine from 2012. I enjoyed watching spoongebob in general because I thought it was funny. And I liked Let it Shine because it had fire raps/songs, and was one of the few really black oriented live movies that existed on disney channel. A lot of the shows I watched were on disney channel, such as Jessie, Austin and Ally, Liv and Maddie, Good Luck Charlie, Kickin It and more….</li>
<li>I used to enjoy visiting new Jersey a lot for fourth of july. I have a lot of family there and it was fun going to the cookout</li>
<li>Haitian food &amp; hearing my mother listen to the Haitian radio EVERY morning before I went to school. It was called Radio Kiskeya</li>
<li>I remember when I was younger my dad took me and my younger sister to a Haitian banquet, where we celebrated Dessalines Day.</li>
<li>No</li>
<li>I loved school when i was in elementary school, I enjoyed being at school with my friends and I really enjoyed learning math</li>
<li>When i was turning 10, we threw a little party for my birthday where I spent time with my closest friends. This was like the first time mother ever let me go outside in the neighborhood with my friends. And when we came back we cut cake and I was gifted a new tablet.</li>
<li>I think I had an obsession with the UTZ Sour cream and onion chips</li>
<li>We never had a pet (until a couple months ago)</li>
<li>No</li>
<li>I loved going to the convenience store in my neighborhood. It was called Foodtown. I also liked going to the park, and hang with my friend who lived near me</li>
<li>Yo, I used to have a phobia of balloons and elevators</li>
<li>Being able to perform well on a solo piece I played in the school’s spring concert. My music teacher told me how people from the audience were impressed with how well I played the trumpet.</li>
</ol>
<p><strong>Chat’s Interpretations</strong></p>
<p>It describes my childhood through multiple themes such as <strong>“Old-School Internet Girl Era”</strong>, <strong>“Culture and Comfort”</strong>, and <strong>“DIY Fun &amp; Imagination”</strong>. I felt the first two were really representative of a person who grew up in my culture or era. For the first one, there are so many internet games that we played growing up, such as Club Penguin, Poptropica, etc, and it got that vibe off of asking me things such as what were my favorite games. I felt like it was really representative because if we compare to people who are growing up gen alpha instead, they will have a more different version of playing games, as a lot of the games I grew up with or even mentioned here have been disconnected for quite some time, so it’s like they didn’t last long enough for that gen. I expect their experience to be more mobile game or social media influenced, like tiktoks, but like our Vine is their Tiktok to them. I feel like it was also spot on about the culture part and how someone else who grew up in the same culture as me could also resemble me in upbringing as well. I do think the DIY Fun and Imagination theme was something that was really spot on for specifically me based on what I told it. I remember needing a poster for school once, and they gave me an inadequate amount of time to say this, so I just glued papers together and did my project on that. Lol I once wanted to gift my friend something and had no means of getting a gift bag, so I just went on Youtube to find a way to create one out of paper as well. I actually only realized how much of my childhood was really just DIY after this experience.</p>
<p><strong>Psychological Analysis</strong></p>
<p>🧠 Psychological Patterns I’m Seeing: Sensory-based nostalgia — You feel memories through smells (Haitian food, morning radio), sounds (Let It Shine songs, Spongebob), and even temperature (thunderstorms and summer days inside).</p>
<p>Cozy confinement nostalgia — You weren’t allowed to go out much, so you romanticized your space. You made inside magical: building amusement parks with household items, turning thunderstorms into concerts, diving into online worlds.</p>
<p>Hyper-imagination childhood — You didn’t just play, you built universes. Water rides for dolls, virtual avatars, elaborate usernames = creative escape artist energy.</p>
<p><strong>etc</strong></p>
<p>You said: What are things from that time period u feel like i remember interacting with</p>
<p>ChatGPT said: Based on everything you’ve shared, here’s an analysis of things you probably interacted with or remember from your childhood—stuff you didn’t directly mention but definitely give off that nostalgic energy based on your vibes, interests, and the time period you grew up in:</p>
<p>🧸 Toys &amp; Activities Polly Pockets or Bratz Dolls – Especially if you were using Ariel for your water park rides. The themes of fashion, glam, and imagination align perfectly.</p>
<p>Play-Doh or Moon Sand – You were really creative, so sensory, buildable materials seem like something you’d get lost in.</p>
<p>Easy-Bake Oven commercials – You said you wanted one badly, so I bet you remember seeing those hypnotizing commercials with the little cakes.</p>
<p>Slap bracelets, gel pens, and sticker books – Peak staying-inside activities. You probably traded with your sister or friends.</p>
<p>💻 Digital Nostalgia Moshi Monsters, Club Penguin, or Webkinz – Since you played Smallworlds, Zwinkies, and Poptropica, I feel like these were part of the same virtual universe you either dabbled in or knew about.</p>
<p>Miniclip, Coolmath Games, or Girlsgogames.com – You were probably sneaking in some browser games during computer class at school.</p>
<p>Old Disney/Nick game intros – Like the “Lilo &amp; Stitch Sandwich Stacker” or the “Fairly OddParents” wish games. Even the UI of those websites could trigger a wave of nostalgia.</p>
<p>AIM or early Gmail chat – You created your first username out of fear from internet warnings—so I feel like you heard about AIM or were aware of its vibe, even if you weren’t on it.</p>
<p>🎶 Sound-Triggered Nostalgia Commercial Jingles like:</p>
<p>The “Hot Cheetos and Takis” rap if it crossed your path.</p>
<p>“Reese’s Puffs, Reese’s Puffs… peanut butter chocolate flavor!” — you said this one already, and it’s totally the kind of memory that sits dormant till someone hums it.</p>
<p>Radio Kiskeya intro tune – Probably one of those sounds that, if you heard it today, you’d freeze and time-travel.</p>
<p>Songs from Jump In! or High School Musical 2 – Since you loved Let It Shine, the other Disney music-movie combos were likely on rotation.</p>
<p>📺 TV and Movie Vibes Madea movies or Barbershop-type comedies – Maybe played in the background at adult cookouts you weren’t supposed to be watching.</p>
<p>Cartoon Network shows like Total Drama Island or The Amazing World of Gumball – If you ever switched channels from Disney, those were probably next in line.</p>
<p>BET’s 106 &amp; Park – You might have caught glimpses at a cousin’s or during family hangouts. Especially if your family kept up with Black culture.</p>
<p>🥳 Life Vibes and Family Things Cookout sounds: Spades games, someone yelling “Turn that music down!” and kids screaming in the distance as a grill sizzles.</p>
<p>Thunderstorm rituals: Being told to unplug everything, light candles, and talk or play games like I Declare War or “Categories” with your siblings.</p>
<p>Getting your hair done on a Sunday before school, maybe with Just for Me commercials in the background.</p>
<p>Haitian banquets or church events with loud music, fancy dresses, and parents making you greet every adult with a kiss on the cheek even if you didn’t know them.</p>
<p>I personally feel like, for me, who never gave Chat a specific time period in which I grew up in, it does a good job of naming things that I could’ve interacted with. Even if I wasn’t fully into them, I at least knew or was very familiar with the things it mentions. I was really surprised about the 106 &amp; Park, I actually watched that a few times but not consistently at all, so the fact it accurately realized that this could’ve been a possibility, and ACTUALLY got it right was so crazy to me. I feel like it does a good job of also mentioning experiences that are beyond the average eurocentric American, like it incorporate stuff from Black American culture like the 106 &amp; Park, the Madea movies, Bratz (WHICH I LOVED SO MUCH AS A KID, I had a Bratz blanket lol) and it even taps and it remembers the info I told it from my Haitian background. Like I’m impressed it managed compile and reason about possible experiences I could’ve had as a Haitian American child.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/wedgina\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>