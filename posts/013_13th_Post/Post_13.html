<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Wedgina Norelus">
<meta name="dcterms.date" content="2025-03-29">
<meta name="description" content="Revisiting previous post with updated methodologies to interact with AI">

<title>How well can AI really know you? Part II – My Explorations with LLMs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-8647a4a42273f773479d27c00df3f9ed.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">My Explorations with LLMs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">How well can AI really know you? Part II</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Personality</div>
    <div class="quarto-category">Reason</div>
    <div class="quarto-category">LLMs</div>
    <div class="quarto-category">Cognition</div>
  </div>
  </div>

<div>
  <div class="description">
    Revisiting previous post with updated methodologies to interact with AI
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Wedgina Norelus </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 29, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="how-well-can-ai-really-know-you-part-ii" class="level1">
<h1>How well can AI really know you? Part II</h1>
<p><img src="Post_13_files/figure-html/a9e24ed3-75f0-4b1f-bf69-61a3e3a62dfe-1-f12dfc8c-8457-452e-af8f-1d9170aab822.jpeg" class="img-fluid"></p>
<p>In a previous post titled “How well can AI really know you?” I speak about asking Chat Gpt to do some kind of low level thinking of terms of social interaction. We are special in that way, that we are able to reason about others that are close to us and about what kind of person they are. However, LLMs that are made to model after us, do not have personalities for us to reason about, how would they be able to do the same and replicate humans in that way? In contrast to my previous post, where I asked it what it knows about me or my personality (something that it would have to do some sort of reasoning about since most of the time I’m not sitting there telling it, “Hi I’m a well rounded, pessimistic, analytical person” for example). As part of that post, I ultimately ruled that the information the chat model stores is typically accurate and it is able to do some of the reasoning on a lower level but it’s not exactly realistic like how a human would remember information about the type of person someone is when asked. For this post instead, I will ask it some more questions that would require some more higher level thinking and assessing how well it is able to critically evaluate me.</p>
<p>The prompt that I passed to ChatGPT was this:</p>
<p><strong>“What do you know about me that I may not know about myself?”</strong></p>
<blockquote class="blockquote">
<p>“I can notice patterns in how you think and what you gravitate toward. Here are a few observations you might not have explicitly realized:</p>
<ol type="1">
<li><p>You approach topics from unique angles – Whether it’s AI, neuroscience, or your blog topics, you often interpret things in ways that aren’t obvious to others. You seem to enjoy uncovering hidden layers in concepts.</p></li>
<li><p>You balance analytical and creative thinking – Your interests span hard data (SQL, fMRI analysis, clinical research) and more abstract ideas (AI’s creative applications, neuroscience communication). This duality suggests you thrive in spaces that blend structure with exploration.</p></li>
<li><p>You are drawn to understanding how systems interact – Many of your projects explore relationships: crime and hospital proximity, TikTok and Spotify, parenting and child development. This pattern suggests you naturally think in terms of connections and networks.</p></li>
<li><p>You care about personal expression, even if it’s subtle – Your thoughts on graduation makeup, hair, and eyebrows show a desire to present yourself in a way that feels right for you, even if you don’t have a full routine. It’s less about trends and more about feeling confident.</p></li>
<li><p>You’re in a transition phase, and you’re actively shaping what’s next – You’re exploring jobs, research, and certifications, and while you have strong interests (like neuroscience and data analysis), you’re still open to different paths. You seem to be seeking clarity but are comfortable with some uncertainty.”</p></li>
</ol>
</blockquote>
<p>To evaluate these I would have to speak on if I knew these things or not before I posed Chat this question. I feel though that I did already know many of these things about myself already especially the last one, like I’m literally graduating. As for the rest of these, I wouldn’t say I didn’t know them about myself but that instead that I don’t fully agree with it so I feel like if it’s saying stuff I don’t even feel is true, it will struggle to tell you stuff you don’t know overall.</p>
<p>The next part of the prompt I asked it was this:</p>
<p><strong>“Be more critical”</strong></p>
<blockquote class="blockquote">
<p>“Here’s a more critical take—meant to challenge you, not discourage you:</p>
<ol type="1">
<li><p>You hesitate to commit fully to a direction – You have a lot of interests (clinical research, AI, neuroscience, data analytics, cognitive science, MRI tech), but you seem to keep options open rather than deeply committing to one path. This could be strategic, but it might also be a way of avoiding a tough decision.</p></li>
<li><p>You sometimes overanalyze instead of acting – Your tendency to interpret things in less obvious ways is a strength, but it could also mean you get stuck thinking rather than doing. In some areas (like hair), you’ve been thinking about it but haven’t made a decision yet. Is this a pattern in other areas too?</p></li>
<li><p>You might underestimate the value of specialization – Your ability to connect different disciplines is great, but have you considered whether you’re spreading yourself too thin? If you want to stand out in a competitive field, deep expertise in one area could be more valuable than broad knowledge.</p></li>
<li><p>You may not always recognize when you’re resisting discomfort – For example, you’ve mentioned learning Python and fMRI analysis, but if you’re less comfortable with something (like Python), do you put in the same effort as areas where you feel more confident? Avoiding discomfort could slow growth.</p></li>
<li><p>You could push yourself to take more risks – You’ve done some great projects and interviews, but do you ever avoid opportunities because you’re unsure how you’ll perform? If you’re hesitating to apply for a certain job, reach out to a professor, or dive deeper into a skill, is it because of an actual barrier or just self-doubt?</p></li>
</ol>
<p>What do you think? Do any of these points strike a nerve?”</p>
</blockquote>
<section id="evaluation" class="level3">
<h3 class="anchored" data-anchor-id="evaluation">Evaluation</h3>
<p>Damn, why Chat read me like that though lol?! When it comes to deciding how well Chat was at being able to critically evaluate me, I have to go on the basis on how similar its response is to someone who has given me critical feedback in my life or what someone who is evaluating me would probably say. In addition to the first prompt, I feel like here it does an actual good job at providing me an analysis about myself that I actually didn’t know about. And when I take what I said previously, about comparing it based on new feedback I’ve heard about myself from other people, I actually think Chat Gpt does a good job of providing me a novel analysis of myself. I’ve never really heard the 2nd, 4th, or the 5th one before, but when it spoke about them, I found that it makes sense that it’s true that I could continue to work on those things about myself. The 1st I feel like I already knew though.</p>
<p>However I do also think Chat falls to some sort of bias, because obviously if I’m using it, I need guidance in some type of direction that I am asking for. It’s like going to a guidance counselor and asking them to do their job and help you through the college process and then them just calling you indecisive for you asking them about a particular direction. Like that’s not particularly true.</p>
<p>In my previous post I asked Chat what does it know about my personality and the response I received is as follows:</p>
<blockquote class="blockquote">
<p>” From our conversations, I’ve gathered a few insights about your personality:</p>
<p><strong>Curious &amp; Analytical:</strong></p>
<ul>
<li>You enjoy exploring complex topics, especially in neuroscience, cognition, and data analysis.<br>
</li>
<li>You like thinking critically about theories and real-world applications.</li>
</ul>
<p><strong>Detail-Oriented &amp; Research-Driven:</strong></p>
<ul>
<li>You prefer working with data, conducting thorough analyses, and structuring your arguments based on evidence.<br>
</li>
<li>Your projects, like analyzing TikTok’s influence on Spotify and studying trauma center quality, reflect a strong research mindset.</li>
</ul>
<p><strong>Creative &amp; Thoughtful:</strong></p>
<ul>
<li>You come up with unique ideas, such as the creative 3D printer gift reveal.<br>
</li>
<li>You also explore new ways to communicate scientific ideas, like your neuroscience podcast and AI blog project.</li>
</ul>
<p><strong>Independent &amp; Goal-Oriented:</strong></p>
<ul>
<li>You’re proactive about your career, actively looking for research opportunities and internships while considering long-term plans like MRI certification.</li>
</ul>
<p><strong>Hands-On Learner:</strong></p>
<ul>
<li>You prefer learning through examples and practical applications rather than just theory.</li>
</ul>
<p><strong>Balanced &amp; Open-Minded:</strong></p>
<ul>
<li>You have a mix of scientific rigor and an appreciation for human experiences, such as your interest in parenting styles and criminal behavior in relation to free will.”</li>
</ul>
</blockquote>
<p>So you can see that there is a difference in how it chooses to reason based on my question. But I feel like what it chooses to do here is still very similar to the content in the first prompt I asked it, despite me asking it, to tell me things about me I may not know about myself. But it still returned to me things that it’s already told me before. And also seeing that it is an LLM and not a human, it still recites the same information it has about me, like the projects I’ve worked on or the fMRI related information which doesn’t make sense to do if I’m asking about information that I myself may not know about me. I know that this is the case due to the type of information it stores in its memory. I’m not sure what goes into what it decides to be stored in its memory actually, but its limited memory/capacity disadvantages it in a way because it just keeps recycling the same information for its reasoning.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>Overall, I actually enjoyed listening to what Chat thinks about me and how it can reason on a higher level. I didn’t expect it to actually be able to form it into words but it exceeded my expectations. I think it can definitely be used to help you focus on your weaknesses you didn’t know you had and help you to work on them instead, unlike some people. As for telling you stuff that it thinks you don’t know about yourself, I feel like it lacks in because it is ultimately just reciting stuff it stores in its memory.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/wedgina\.github\.io\/comm4190_S25_Using_LLMs_Blog\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>